name = "threaded"
main = "worker/index.ts"
compatibility_date = "2025-12-04"
compatibility_flags = ["nodejs_compat"]

[build]
command = "pnpm build"

[assets]
directory = "dist"
binding = "ASSETS"
not_found_handling = "single-page-application"

# D1 Database binding
# To create the database, run:
#   npx wrangler d1 create threaded-db
# Then update the database_id below with the returned ID
[[d1_databases]]
binding = "DB"
database_name = "threaded-db"
database_id = "3dc10aab-a1a9-473a-9e23-1887640db256"